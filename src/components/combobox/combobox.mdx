import { Meta, Story } from '@storybook/addon-docs/blocks';
import {
  DocLayout,
  Canvas,
  PropsTable,
  parseSubcomponents,
} from '../../../.storybook/components';
import * as ComboboxStories from './combobox.stories';

<Meta of={ComboboxStories} />

<DocLayout meta={ComboboxStories.default}>
  ## Default Example

<Canvas of={ComboboxStories.Default} background="dots" />

## Component API

### Combobox

A combobox component that combines a popover, command palette, and searchable select functionality. Built on top of Radix UI Popover and cmdk Command components for accessibility and keyboard navigation.

<PropsTable argTypes={ComboboxStories.default.argTypes} />

## Examples

### With Value

A combobox with a pre-selected value.

<Canvas of={ComboboxStories.WithValue} background="grid" />

### Controlled

A fully controlled combobox with external state management.

<Canvas of={ComboboxStories.Controlled} background="muted" />

### Uncontrolled

An uncontrolled combobox that manages its own state internally.

<Canvas of={ComboboxStories.Uncontrolled} background="card" />

### With Disabled Options

A combobox that includes some disabled options in the list.

<Canvas of={ComboboxStories.WithDisabledOptions} background="transparent" />

### Disabled State

A completely disabled combobox that cannot be interacted with.

<Canvas of={ComboboxStories.Disabled} background="default" />

### Custom Width

A combobox with custom width styling.

<Canvas of={ComboboxStories.CustomWidth} background="dots" />

### Custom Messages

A combobox with customized placeholder and empty state messages.

<Canvas of={ComboboxStories.CustomMessages} background="grid" />

### Multiple Comboboxes

Multiple comboboxes working together in a form layout.

<Canvas of={ComboboxStories.MultipleComboboxes} background="muted" />

## Accessibility

The `Combobox` component follows the [WAI-ARIA Combobox design pattern](https://www.w3.org/WAI/ARIA/apg/patterns/combobox/) and includes:

- Full keyboard navigation with Arrow keys, Enter, and Escape
- Screen reader support with proper ARIA attributes
- Search functionality with live results filtering
- Focus management within the popover
- Support for disabled options
- Proper labeling and descriptions

## Best Practices

- Provide clear, descriptive option labels
- Use appropriate placeholder text to guide users
- Consider the order of options (alphabetical, most common first, etc.)
- Implement proper error handling for invalid selections
- Test with keyboard navigation and screen readers
- Limit the number of options for better performance
- Use disabled state for options that are temporarily unavailable

</DocLayout>