import { Meta, Story } from '@storybook/addon-docs/blocks';
import {
  DocLayout,
  Canvas,
  PropsTable,
  SubcomponentPropTable,
} from '../../../.storybook/components';
import * as CollapsibleStories from './collapsible.stories';

<Meta of={CollapsibleStories} />

<DocLayout meta={CollapsibleStories.default}>

## Default Example

<Canvas of={CollapsibleStories.Default} />

## Component API

### Collapsible

<PropsTable argTypes={CollapsibleStories.default.argTypes} />

<SubcomponentPropTable
  subcomponents={CollapsibleStories.default.subcomponents}
/>

## Examples

### With Card

A collapsible integrated within a card component with multiple sections.

<Canvas of={CollapsibleStories.WithCard} />

### Open by Default

A collapsible that starts in an expanded state.

<Canvas of={CollapsibleStories.OpenByDefault} />

### Controlled State

External control over the collapsible state with synchronized buttons.

<Canvas of={CollapsibleStories.Controlled} />

### Disabled State

A disabled collapsible that cannot be toggled.

<Canvas of={CollapsibleStories.Disabled} />

### Multiple Collapsibles

A navigation menu with multiple independent collapsible sections.

<Canvas of={CollapsibleStories.MultipleCollapsibles} />

## Accessibility

The `Collapsible` component follows the [WAI-ARIA design pattern](https://www.w3.org/WAI/ARIA/apg/) and includes:

- Keyboard navigation support with Enter and Space keys
- Screen reader announcements for expanded/collapsed states
- Proper ARIA attributes including `aria-expanded` and `aria-controls`
- Focus management when toggling states
- Semantic HTML structure for screen readers

## Best Practices

- Use clear, descriptive labels for collapsible triggers
- Provide visual indicators (like chevrons) to show expandable content
- Consider the initial state - some content may be better shown expanded by default
- Group related collapsibles logically
- Ensure keyboard accessibility for all interactive elements
- Test with screen readers to verify proper announcements

</DocLayout>
