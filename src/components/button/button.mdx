import { Meta, Story } from '@storybook/addon-docs/blocks';
import {
  DocLayout,
  Canvas,
  PropsTable,
  parseSubcomponents,
} from '../../../.storybook/components';
import * as ButtonStories from './button.stories';

<Meta of={ButtonStories} />

<DocLayout meta={ButtonStories.default}>
  ## Default Example

<Canvas of={ButtonStories.Default} background="dots" />

## Component API

### Button

A flexible button component built with Radix UI and Tailwind CSS, supporting multiple variants and sizes.

<PropsTable argTypes={ButtonStories.default.argTypes} />

{(
() => {
const subcomponents = parseSubcomponents(ButtonStories.default.subcomponents);
return subcomponents.map((sub) => (

<div key={sub.name}>
  <h3 className="sb-unstyled text-foreground mt-6 mb-3 text-xl font-bold">
    {sub.name}
  </h3>
  {sub.description && (
    <p className="sb-unstyled text-muted-foreground mb-4 text-base">
      {sub.description}
    </p>
  )}
  <PropsTable
    title={`${sub.name} Props`}
    argTypes={ButtonStories.default.subcomponents[sub.name].argTypes}
  />
</div>
)); }) ()}

## Examples

### Variants

All available button variants with different visual styles.

<Canvas of={ButtonStories.Variants} background="grid" />

### Sizes

Buttons in different sizes for various use cases.

<Canvas of={ButtonStories.Sizes} background="muted" />

### With Icons

Buttons combined with icons for enhanced visual communication.

<Canvas of={ButtonStories.WithIcon} background="card" />

### Disabled State

Buttons in disabled state showing proper visual feedback.

<Canvas of={ButtonStories.Disabled} background="transparent" />

### As Child

Using the asChild prop to render buttons as other elements.

<Canvas of={ButtonStories.AsChild} background="default" />

## Accessibility

The `Button` component follows accessibility best practices:

- Uses semantic button element with proper ARIA attributes
- Supports keyboard navigation with Tab, Enter, and Space keys
- Provides proper focus management and visual feedback
- Maintains adequate contrast ratios in all variants
- Supports screen readers with meaningful content
- Handles disabled states appropriately

## Best Practices

- Use descriptive button text that clearly indicates the action
- Choose appropriate variants based on the action's importance
- Ensure sufficient color contrast for accessibility
- Use consistent button styling throughout your application
- Consider the context when choosing between variants
- Provide loading states for asynchronous actions
- Test with keyboard navigation to ensure accessibility

</DocLayout>