import { Meta, Story } from '@storybook/addon-docs/blocks';
import {
  DocLayout,
  Canvas,
  PropsTable,
  parseSubcomponents,
} from '../../../.storybook/components';
import * as AvatarStories from './avatar.stories';

<Meta of={AvatarStories} />

<DocLayout meta={AvatarStories.default}>
  ## Default Example

<Canvas of={AvatarStories.Default} background="dots" />

## Component API

### Avatar

A flexible avatar component built with Radix UI for displaying user profile images with fallback text support.

<PropsTable argTypes={AvatarStories.default.argTypes} />

{(
() => {
const subcomponents = parseSubcomponents(AvatarStories.default.subcomponents);
return subcomponents.map((sub) => (

<div key={sub.name}>
  <h3 className="sb-unstyled text-foreground mt-6 mb-3 text-xl font-bold">
    {sub.name}
  </h3>
  {sub.description && (
    <p className="sb-unstyled text-muted-foreground mb-4 text-base">
      {sub.description}
    </p>
  )}
  <PropsTable
    title={`${sub.name} Props`}
    argTypes={AvatarStories.default.subcomponents[sub.name].argTypes}
  />
</div>
)); }) ()}

## Examples

### With Fallback

Avatar with fallback text when image fails to load.

<Canvas of={AvatarStories.WithFallback} background="grid" />

### Fallback Only

Avatar displaying only fallback text without an image.

<Canvas of={AvatarStories.FallbackOnly} background="muted" />

### Different Sizes

Avatars in various sizes for different use cases.

<Canvas of={AvatarStories.Sizes} background="card" />

### Custom Styling

Avatars with custom styling including borders and gradient backgrounds.

<Canvas of={AvatarStories.CustomStyling} background="transparent" />

### Avatar Group

Multiple avatars grouped together with overlapping layout.

<Canvas of={AvatarStories.Group} background="default" />

## Accessibility

The `Avatar` component:

- Provides proper alt text for images via the `AvatarImage` component
- Uses semantic HTML structure for screen readers
- Maintains focus management for interactive avatars
- Supports keyboard navigation when used in interactive contexts

## Best Practices

- Always provide meaningful fallback text that represents the user
- Use consistent sizing across your application
- Consider loading states and error handling for avatar images
- Use appropriate image formats and sizes for performance
- Provide alt text for avatar images to improve accessibility
- Consider using initials or user names as fallback text
- Test with various screen sizes and user scenarios

</DocLayout>
