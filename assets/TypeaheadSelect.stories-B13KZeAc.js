import{i as X,k as Y,f as P,l as Z,o as ee,m as te,j as c,n as U,I as se,p as oe,a as I,q as ne,T as re,F as ae}from"./FutureHouseApp-BKfFd7Yw.js";import{r as a}from"./index-BBkUAzwr.js";import{P as L}from"./index-YMbfICiA.js";import"./inheritsLoose-DvxMVriv.js";import"./index-BfZ0jBbx.js";function ie(e){return e!=null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}function V(e){var t;return ie(e)&&(t=e.ownerDocument)!=null?t:document}function le(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var ce=le(),ue=ce?a.useLayoutEffect:a.useEffect;function j(e,t=[]){const s=a.useRef(e);return ue(()=>{s.current=e}),a.useCallback((...o)=>{var l;return(l=s.current)==null?void 0:l.call(s,...o)},t)}function de(e){const{ref:t,handler:s,enabled:o=!0}=e,l=j(s),r=a.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;a.useEffect(()=>{if(!o)return;const i=u=>{b(u,t)&&(r.isPointerDown=!0)},f=u=>{if(r.ignoreEmulatedMouseEvents){r.ignoreEmulatedMouseEvents=!1;return}r.isPointerDown&&s&&b(u,t)&&(r.isPointerDown=!1,l(u))},d=u=>{r.ignoreEmulatedMouseEvents=!0,s&&r.isPointerDown&&b(u,t)&&(r.isPointerDown=!1,l(u))},n=V(t.current);return n.addEventListener("mousedown",i,!0),n.addEventListener("mouseup",f,!0),n.addEventListener("touchstart",i,!0),n.addEventListener("touchend",d,!0),()=>{n.removeEventListener("mousedown",i,!0),n.removeEventListener("mouseup",f,!0),n.removeEventListener("touchstart",i,!0),n.removeEventListener("touchend",d,!0)}},[s,t,l,r,o])}function b(e,t){var s;const o=e.target;return o&&!V(o).contains(o)?!1:!((s=t.current)!=null&&s.contains(o))}function pe(e,t){const s=a.useId();return a.useMemo(()=>e||[t,s].filter(Boolean).join("-"),[e,t,s])}function fe(e,t){const s=e!==void 0;return[s,s&&typeof e<"u"?e:t]}function me(e={}){const{onClose:t,onOpen:s,isOpen:o,id:l}=e,h=j(s),r=j(t),[i,f]=a.useState(e.defaultIsOpen||!1),[d,n]=fe(o,i),u=pe(l,"disclosure"),v=a.useCallback(()=>{d||f(!1),r==null||r()},[d,r]),g=a.useCallback(()=>{d||f(!0),h==null||h()},[d,h]),C=a.useCallback(()=>{(n?v:g)()},[n,g,v]);return{isOpen:!!n,onOpen:g,onClose:v,onToggle:C,isControlled:d,getButtonProps:(m={})=>({...m,"aria-expanded":n,"aria-controls":u,onClick:X(m.onClick,C)}),getDisclosureProps:(m={})=>({...m,hidden:!n,id:u})}}var[ye,A]=Y({name:"ListStylesContext",errorMessage:`useListStyles returned is 'undefined'. Seems you forgot to wrap the components in "<List />" `}),x=P(function(t,s){const o=Z("List",t),{children:l,styleType:h="none",stylePosition:r,spacing:i,...f}=ee(t),d=te(l),u=i?{["& > *:not(style) ~ *:not(style)"]:{mt:i}}:{};return c.jsx(ye,{value:o,children:c.jsx(U.ul,{ref:s,listStyleType:h,listStylePosition:r,role:"list",__css:{...o.container,...u},...f,children:d})})});x.displayName="List";var he=P((e,t)=>{const{as:s,...o}=e;return c.jsx(x,{ref:t,as:"ol",styleType:"decimal",marginStart:"1em",...o})});he.displayName="OrderedList";var ge=P(function(t,s){const{as:o,...l}=t;return c.jsx(x,{ref:s,as:"ul",styleType:"initial",marginStart:"1em",...l})});ge.displayName="UnorderedList";var O=P(function(t,s){const o=A();return c.jsx(U.li,{ref:s,...t,__css:o.item})});O.displayName="ListItem";var ve=P(function(t,s){const o=A();return c.jsx(se,{ref:s,role:"presentation",...t,__css:o.icon})});ve.displayName="ListIcon";const T=a.forwardRef(({options:e=[],onSelect:t=()=>{},placeholder:s="Type here...",ListProps:o,InputProps:l,ContainerBoxProps:h},r)=>{const[i,f]=a.useState(""),[d,n]=a.useState([]),{isOpen:u,onOpen:v,onClose:g}=me(),{colorMode:C}=oe();let m=r;const Q=a.useRef();r||(m=Q),a.useEffect(()=>{if(i){const p=e.filter(y=>y.toLowerCase().includes(i.toLowerCase()));n(p)}else n([])},[i,e]);const W=p=>{const y=p.target.value;if(f(y),y){const J=e.filter(K=>K.toLowerCase().includes(y.toLowerCase()));n(J),v()}else n([]),g()},z=p=>{f(p),n([]),t(p),g()},$=()=>{if(i){const p=e.filter(y=>y.toLowerCase().includes(i.toLowerCase()));n(p)}else n(e);v()};return de({ref:m,handler:()=>{g()}}),c.jsxs(I,{position:"relative",ref:m,...h,children:[c.jsx(ne,{placeholder:s,value:i,onChange:W,onFocus:$,...l}),u&&c.jsx(I,{position:"absolute",top:"100%",left:"0",right:"0",bg:C==="light"?"white":"gray.700",borderWidth:"1px",borderRadius:"md",boxShadow:"md",zIndex:"1",...o,children:c.jsx(x,{spacing:1,children:d.length>0?d.map((p,y)=>c.jsx(O,{padding:"2",_hover:{bg:C==="light"?"gray.100":"gray.600",cursor:"pointer"},onClick:()=>z(p),children:p},y)):c.jsx(O,{padding:"2",children:c.jsx(re,{color:C==="light"?"gray.500":"gray.300",children:"No results found"})})})})]})});T.displayName="Typeahead";T.propTypes={options:L.array,onSelect:L.func,placeholder:L.string,InputProps:L.object,ListProps:L.object,ContainerBoxProps:L.object};const G=T;T.__docgenInfo={description:"",methods:[],displayName:"Typeahead",props:{options:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"array"},required:!1},onSelect:{defaultValue:{value:"() => { }",computed:!1},description:"",type:{name:"func"},required:!1},placeholder:{defaultValue:{value:"'Type here...'",computed:!1},description:"",type:{name:"string"},required:!1},InputProps:{description:"",type:{name:"object"},required:!1},ListProps:{description:"",type:{name:"object"},required:!1},ContainerBoxProps:{description:"",type:{name:"object"},required:!1}}};const Ce=e=>c.jsx(ae,{children:e()}),xe={title:"Future House/Typeahead",component:G,decorators:[Ce]},D=e=>c.jsx(G,{...e}),E=D.bind({});E.args={options:["Apple","Banana","Cherry","Date","Fig","Grape"],placeholder:"Type here...",onSelect:e=>console.log("Selected:",e)};const S=D.bind({});S.args={options:["Apple","Banana","Cherry","Date","Fig","Grape"],placeholder:"Search fruits...",onSelect:e=>console.log("Selected:",e)};const w=D.bind({});w.args={options:[],placeholder:"Type here...",onSelect:e=>console.log("Selected:",e)};var _,k,R;E.parameters={...E.parameters,docs:{...(_=E.parameters)==null?void 0:_.docs,source:{originalSource:"args => <Typeahead {...args} />",...(R=(k=E.parameters)==null?void 0:k.docs)==null?void 0:R.source}}};var N,M,F;S.parameters={...S.parameters,docs:{...(N=S.parameters)==null?void 0:N.docs,source:{originalSource:"args => <Typeahead {...args} />",...(F=(M=S.parameters)==null?void 0:M.docs)==null?void 0:F.source}}};var q,B,H;w.parameters={...w.parameters,docs:{...(q=w.parameters)==null?void 0:q.docs,source:{originalSource:"args => <Typeahead {...args} />",...(H=(B=w.parameters)==null?void 0:B.docs)==null?void 0:H.source}}};const Te=["Default","CustomPlaceholder","NoOptions"];export{S as CustomPlaceholder,E as Default,w as NoOptions,Te as __namedExportsOrder,xe as default};
