{"version":3,"file":"theme-provider.js","names":["React","jsx","_jsx","ThemeProviderContext","createContext","undefined","ThemeProvider","t0","$","_c","children","props","t1","t2","_t","defaultTheme","storageKey","_objectWithoutProperties","_excluded","t3","window","localStorage","getItem","_React$useState","useState","_React$useState2","_slicedToArray","theme","setTheme","t4","t5","root","document","documentElement","classList","remove","systemTheme","matchMedia","matches","add","useEffect","t6","newTheme","setItem","t7","value","t8","Provider","_objectSpread","useTheme","context","useContext","Error"],"sources":["../../../src/components/theme-provider/theme-provider.tsx"],"sourcesContent":["import * as React from 'react';\n\ntype Theme = 'dark' | 'light' | 'system';\n\ntype ThemeProviderProps = {\n  children: React.ReactNode;\n  defaultTheme?: Theme;\n  storageKey?: string;\n};\n\ntype ThemeProviderState = {\n  theme: Theme;\n  setTheme: (theme: Theme) => void;\n};\n\nconst ThemeProviderContext = React.createContext<\n  ThemeProviderState | undefined\n>(undefined);\n\nexport function ThemeProvider({\n  children,\n  defaultTheme = 'system',\n  storageKey = 'feathers-ui-theme',\n  ...props\n}: ThemeProviderProps) {\n  const [theme, setTheme] = React.useState<Theme>(() => {\n    if (typeof window !== 'undefined') {\n      return (localStorage.getItem(storageKey) as Theme) || defaultTheme;\n    }\n    return defaultTheme;\n  });\n\n  React.useEffect(() => {\n    if (typeof window === 'undefined') return;\n\n    const root = window.document.documentElement;\n\n    root.classList.remove('light', 'dark');\n\n    if (theme === 'system') {\n      const systemTheme = window.matchMedia('(prefers-color-scheme: dark)')\n        .matches\n        ? 'dark'\n        : 'light';\n\n      root.classList.add(systemTheme);\n      return;\n    }\n\n    root.classList.add(theme);\n  }, [theme]);\n\n  const value = {\n    theme,\n    setTheme: (newTheme: Theme) => {\n      if (typeof window !== 'undefined') {\n        localStorage.setItem(storageKey, newTheme);\n      }\n      setTheme(newTheme);\n    },\n  };\n\n  return (\n    <ThemeProviderContext.Provider {...props} value={value}>\n      {children}\n    </ThemeProviderContext.Provider>\n  );\n}\n\nexport const useTheme = () => {\n  const context = React.useContext(ThemeProviderContext);\n\n  if (context === undefined)\n    throw new Error('useTheme must be used within a ThemeProvider');\n\n  return context;\n};\n"],"mappings":"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","ignoreList":[]}